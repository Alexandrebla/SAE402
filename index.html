<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Globe 3D avec Hotspots</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <link rel="stylesheet" href="carte.css">
</head>
<body>
    <h1>Découvrez le monde ! </h1>
    
    <model-viewer class="terre" id="globe" src="./3D/GLB/globe incr.glb" camera-controls auto-rotate>
        <button class="hotspot" slot="hotspot-1" data-position="0.85 0.17 -0.58" data-normal="0 1 0" onclick="showModal2()"></button>
        <button class="hotspot" slot="hotspot-2" data-position="0.75 0.20 -0.60" data-normal="0 1 0" onclick="showModal1()"></button>
    </model-viewer>
    
    <div id="modalOverlay1" class="modal-overlay" onclick="hideModal()">
        <div class="modal" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="hideModal()">X</button>
            <section class="container">
                <h1 class="titre">Le katana : la fierté des samouraïs</h1>
                <div class="katana" id="katana">
                    <div class="col-6" id="texte">
                        <p>
                            Tu marches dans la rue, et là tu vois un beau bâton par terre, tu es soudain pris d’une envie irrépressible 
                            de le prendre et jouer avec, plus précisément d’en faire un magnifique sabre imaginaire, notamment un katana 
                            des légendaires samouraïs.
                        </p>
                        <p>
                            Pendant un court instant, tu te transformes en samouraï du Japon féodal, période de conflits, de guerre de 
                            clans et de luttes féodales pendant près de quatre siècles, de 1185 jusqu’à 1603. Prêt à partir en campagne, 
                            tu emmènes ton fidèle compagnon : ton katana, symbole de la classe guerrière, de la loyauté envers le seigneur 
                            féodal et du statut social. Seuls les guerriers de haut rang avaient le droit de le porter. 
                            Au fil des années, le katana est devenu un symbole de la puissance militaire du Japon et une fierté nationale.
                        </p>
                        <p>
                            Désormais sur le champ de bataille, tu ne manipules plus une simple arme, mais une œuvre d’art fonctionnelle, 
                            un symbole d’élégance et de puissance. Ce sabre japonais est fabriqué à partir d’acier de haute qualité et 
                            forgé avec un savoir-faire exceptionnel, lui conférant une extrême solidité et une incroyable capacité de coupe. 
                            Il se distingue par une lame incurvée et un tranchant acéré.
                        </p>
                        <p>
                            Tu t’élances maintenant à dos de cheval, prêt à trancher tes ennemis... <br>
                            <strong>CRACK</strong>, ton bâton s’est cassé… 
                        </p>
                    </div>
                    <div class="col-6" id="objet">
                        <model-viewer class="katana" src="./3D/GLB/reposoire hahaha.glb" camera-controls autoplay></model-viewer>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <div id="modalOverlay2" class="modal-overlay" onclick="hideModal()">
        <div class="modal" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="hideModal()">X</button>
            <section class="container">
                <h1 class="titre">Le kabuto : le casque du samouraïs</h1>
                <div class="katana" id="katana">
                    <div class="col-6" id="objet">
                        <model-viewer class="casque" src="./3D/GLB/samurai-textures-export.glb" camera-controls autoplay></model-viewer>
                    </div>
                    <div class="col-6" id="texte">
                        <p>
                            “Oui mais ça ne peut pas être un samurai, il n’a pas de katana”.
                        </p>
                        <p>
                            Cette phrase est fausse, même le samouraï fait l’objet de nombreux mythes et rumeurs, ce dernier possède une histoire bien particulière.
                        </p>
                        <p>
                            Ces guerriers existaient depuis le Xᵉ siècle au Japon et portrait d’autres armes que le katana.
                            Ces guerriers honorables et disciplinés combattaient leurs ennemies sans aucune crainte et sont devenus sans aucun doute une légende à travers le monde.
                        </p>
                        <p>
                            Afin que ces guerriers puissent sortir victorieux de ces batailles, le samouraï se doit de se protéger face à leurs adversaires pour ne pas connaître la défaite ou même se faire capturer suite à ces blessures. 
                        </p>
                        <p>
                            Le <a href="https://fr.wikipedia.org/wiki/%C5%8C-yoroi">ō-yoroi</a>, nom de l’armure japonaise utilisé par ces derniers, était composé de plusieurs parties telles que les genouillères, les cuirasses et le célèbre <span style="color: #ff4444;">kabuto</span>, le casque des samouraïs.
                        </p>                
                        <p>
                            Il est fait de plusieurs plaques en métal fixées entre elles et de nombreuses lamelles souples, protégeant le coup des guerriers. 
                        </p>
                        <p>
                            Chacun d’entre eux possédait des éléments distinctifs qui correspondaient aux préférences du porteur ou bien encore à la famille à laquelle il appartenait, Le meilleur exemple étant le Kamon, symbole figurant sur l’avant du casque pour représenter le clan ou la famille du samouraï jusqu'à ce qu’il rende son dernier souffle.
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <footer>
        <p>Projet : SAE402 | Modélisation du katana : Alexandre Hamon | Modélisation du casque : Jimryce Jouenne | Développement du site : Alexandre Hamon et Jimryce Jouenne</p>
        <p>La description des objets a été réalisée par le modélisateur correspondant à l'objet.</p>
    </footer>

    <div id="tooltip" class="tooltip">Tokyo</div>


    <script>
        function showModal1() {
            document.getElementById("modalOverlay1").style.display = "flex";
        }

        function showModal2(title, content) {
            document.getElementById("modalOverlay2").style.display = "flex";
        }

        function hideModal() {
            document.getElementById("modalOverlay1").style.display = "none";
            document.getElementById("modalOverlay2").style.display = "none";
        }

        document.querySelectorAll('.hotspot').forEach(hotspot => {
        hotspot.addEventListener('mouseenter', () => {
            hotspot.style.transform = 'scale(1.3)';
            hotspot.style.boxShadow = '0px 0px 10px rgba(255, 255, 255, 0.8)';
        });

        hotspot.addEventListener('mouseleave', () => {
            hotspot.style.transform = 'scale(1)';
            hotspot.style.boxShadow = 'none';
        });
    });

    const tooltip = document.getElementById('tooltip');

    document.querySelectorAll('.hotspot').forEach(hotspot => {
        hotspot.addEventListener('mouseenter', (event) => {
            // Détermine quel texte afficher selon le hotspot
            if (hotspot.getAttribute('slot') === 'hotspot-1') {
                tooltip.textContent = "Kyoto - Le kabuto : le casque du samouraïs";
            } else if (hotspot.getAttribute('slot') === 'hotspot-2') {
                tooltip.textContent = "Tokyo - Le katana : la fierté des samouraïs";
            }

            tooltip.style.display = 'block';
            tooltip.style.left = event.pageX + 'px';
            tooltip.style.top = (event.pageY - 30) + 'px';
        });

        hotspot.addEventListener('mousemove', (event) => {
            tooltip.style.left = event.pageX + 'px';
            tooltip.style.top = (event.pageY - 30) + 'px';
        });

        hotspot.addEventListener('mouseleave', () => {
            tooltip.style.display = 'none';
        });
    });
    </script>
</body>
</html>